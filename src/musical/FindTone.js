var FindTone = function () {

    var self = this;
    self.currentTonePosition=52; //position in index beow
    self.newTonePosition=52; //adjusted position
    self.newTonePitch=440; //a set of hz, note letter, and midi number
    self.interval=4; //musical interval
    self.direction="lower";//higher or lower in pitch

    //intervals second, third, etc..
    //const intervalMap=[2,4,5,7,9,11,12];

    const notes = [
                [16.35, "C♮0", 12],
                [17.32, "C♯0", 13],
                [18.35, "D♮0", 14],
                [19.45, "D♯0", 15],
                [20.6, "E♮0", 16],
                [21.83, "F♮0", 17],
                [23.12, "F♯0", 18],
                [24.5, "G♮0", 19],
                [25.96, "G♮0♯", 20],
                [27.5, "A♮0", 21],
                [29.14, "A♯0", 22],
                [30.87, "B♮0", 23],
                [32.7, "C♮1", 24],
                [34.65, "C♯1", 25],
                [36.71, "D♮1", 26],
                [38.89, "D♯1", 27],
                [41.20, "E♮1", 28],
                [43.65, "F♮1", 29],
                [46.25, "F♯1", 30],
                [49.0, "G♮1", 31],
                [51.9, "G♯1", 32],
                [55, "A♮1", 33],
                [58.27, "A♯1", 34],
                [61.74, "B♮1", 35],
                [65.41, "C♮2", 36],
                [69.30, "C♯2", 37],
                [73.42, "D♮2", 38],
                [77.78, "D♯2", 39],
                [82.41, "E♮2", 40],
                [87.31, "F♮2", 41],
                [92.50, "F♯2", 42],
                [98, "G♮2", 43],
                [103.83, "G♯2", 44],
                [110, "A♮2", 45],
                [116.54, "A♯2", 46],
                [123.47, "B♮2", 47],
                [130.81, "C♮3", 48],
                [138.59, "C♯3", 49],
                [146.83, "D♮3", 50],
                [155.56, "D♯3", 51],
                [164.81, "E♮3", 52],
                [174.61, "F♮3", 53],
                [185.00, "F♯3", 54],
                [196, "G♮3", 55],
                [207.65, "G♯3", 56],
                [220, "A♮3", 57],
                [233.08, "A♯3", 58],
                [246.94, "B♮3", 59],
                [261.63, "C♮4", 60],
                [277.18, "C♯4", 61],
                [293.66, "D♮4", 62],
                [311.13, "D♯4", 63],
                [329.63, "E♮4", 64],
                [349.23, "F♮4", 65],
                [369.99, "F♯4", 66],
                [392, "G♮4", 67],
                [415.30, "G♯4", 68],
                [440, "A♮4", 69],
                [466.16, "A♯40", 70],
                [493.88, "B♮4", 71],
                [523.25, "C♮5", 72],
                [554.37, "C♯5", 73],
                [587.33, "D♮5", 74],
                [622.25, "D♯5", 75],
                [659.25, "E♮5", 76],
                [698.46, "F♮5", 77],
                [739.99, "F♯5", 78],
                [783.99, "G♮5", 79],
                [830.61, "G♯5", 80],
                [880, "A♮5", 81],
                [932.33, "A♯5", 82],
                [987.77, "B♮5", 83],
                [1046.50, "C♮6", 84],
                [1108.73, "C♯6", 85],
                [1174.66, "D♮6", 86],
                [1244.51, "D♯6", 87],
                [1318.51, "E♮6", 88],
                [1396.91, "F♮6", 89],
                [1479.98, "F♯6", 90],
                [1567.98, "G♮6", 91],
                [1661.22, "G♯6", 92],
                [1760.00, "A♮6", 93],
                [1864.66, "A♯6", 94],
                [1975.53, "A♮6", 95],
                [2093.00, "C♮7", 96],
                [2217.46, "C♯7", 97],
                [2349.32, "D♮7", 98],
                [2489.02, "D♯7", 99],
                [2637.02, "E♮7", 100],
                [2793.83, "F♮7", 101],
                [2959.96, "F♯7", 102],
                [3135.96, "G♮7", 103],
                [3322.44, "G♯7", 104],
                [3520.00, "A♮7", 105],
                [3729.31, "A♯7", 106],
                [3951.07, "A♮7", 107],
                [4186.01, "C♮7", 108],
                [4434.92, "C♯7", 109],
                [4698.63, "D♮7", 110],
                [4978.03, "D♯7", 111],
                [5274.04, "E♮7", 112],
                [5587.65, "F♮7", 113],
                [5919.91, "F♯7", 114],
                [6271.93, "G♮7", 115],
                [6644.88, "G♯7", 116],
                [7040.00, "A♮7", 117],
                [7458.62, "A♯7", 118],
                [7902.13, "A♮7", 119]
            ];

    const findNotePosition=function(){
      self.newTonePosition=(self.direction==="higher")?
        (self.currentTonePosition+self.interval):
        (self.currentTonePosition-self.interval);

    }

    self.findNote = function () {
        findNotePosition();
        let noteInfo=notes[self.newTonePosition];
        return (noteInfo ? noteInfo : "invalid");
    }

    return self;

}

export default FindTone;
